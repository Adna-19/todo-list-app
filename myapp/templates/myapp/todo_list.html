{% extends "base.html" %}
{% load static %}

{% block title %} Todo Items {% endblock %}

{% block content %}
    <br>
    <div class="container">
        <div class="d-flex justify-content-center">
            <form action="" method="POST" id="todo-form" class="form-inline">
                {% csrf_token %}
                <input style="width: 450px;" type="text" name="title" id="todo-title" class="form-control" placeholder="Add new item here">
                <!-- <input type="submit" name="Add" id="submit-button" value="add" class="btn btn-primary"> -->
                <button type="submit" class="btn btn-primary ml-2" value="add" name="Add" id="submit-button">Add item</button>
            </form>
        </div>
        <hr>
        <br>
        <ul class="list-group w-75 mx-auto">
            {% if todos %}
                {% for todo in todos %}
                    <a style="text-decoration: none;" class="completeIt" data-todo="{{ todo.id }}" href="#"><li class="list-group-item"> {{ todo.title }} 
                        {% if todo.completed %}
                        <span class="badge badge-success badge-pill float-right mt-3">Completed</span>
                        {% else %}
                        <span class="badge badge-danger badge-pill float-right mt-3">Pending</span>
                        {% endif %}
                        <br>
                        <small style="color: rgb(104, 99, 99);">{{ todo.date_created }}</small>
                    </li>
                    </a>
                {% endfor %}
            {% else %}
                <p style="font-size: 35px; color: rgb(199, 198, 198);" class="text-center border">Empty!</p>
            {% endif %}
        </ul>
        <hr>
        <br>
        <div class="d-flex justify-content-center">
            <button class="btn btn-danger" id="delete-all" name="deleteAll">Delete All</button>
            <button class="btn btn-danger ml-4" id="delete-completed" name="deleteComplete">Delete Completed</button>
        </div>
        <div style="height: 200px;">
            
        </div>
    </div> 
    <script type="text/javascript" src="{% static 'js/todo.js' %}"></script>
{% endblock %}